<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Haoshu | CClab 6 Portfolio</title>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <!-- import the webpage's stylesheet -->
    <link rel="stylesheet" href="style.css" />

    <!-- import the webpage's javascript file -->
    <script src="/script.js" defer></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.1.9/p5.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.1.9/addons/p5.sound.min.js"></script>
    <script src="clmtrackr.js"></script>
  </head>

  <body>
    <!-- navigation menu -->
    <div class="nav">
      <h1>Haoshu</h1>
      <ul>
        <li>Project <a href="p1.html">#1</a></li>
        <li>Project <a href="p2.html">#2</a></li>
        <li>Project <a href="p3.html">#3</a></li>
        <li>Project <a href="p4.html">#4</a></li>
        <li>Project <a href="p5.html">#5</a></li>
        <li>Project <a href="p6.html">#6</a></li>
        <li>Project <a href="p7.html">#7</a></li>
        <li>Project <a href="p8.html">#8</a></li>
        <li>Project <a href="p9.html">#9</a></li>
        <li>Project <a href="p10.html">#10</a></li>
      </ul>
    </div>

    <!-- main content -->
    <div class="content">
      <!-- 1. give your project  a titile -->

      <h1>
        Project #6 Experimental Camera | Put your mask on!
      </h1>

      <!-- 2. embed your p5 sketch -->

      <div class="fullwidth">
<!--         <div class="js"> -->
          <script src="sketch.js"></script>
<!--         </div> -->
        <canvas id="my-canvas"></canvas>

        Click
        <a
          href="https://editor.p5js.org/Mustard-Roy/present/VURU-yLL2"
          target="_blank"
          >Here</a
        >
        if it's continuously loading.<br />
        <p>Designed by Haoshu Yang.<br /></p>
      </div>

      <h1>
        Description
      </h1>

      <p>
        I started my concept by reflecting this year, this COVID year.<br /><br />
        As far as I know, the pandemic began from Wuhan, China. Then, it spread
        across China rapidly because of the Spring Festival Holiday that most of
        the people worked in another city got back to their hometown.Then, the
        coronavirus spread globally, from the East Asian countries like Japan
        and South Korea, to European countries , especially from Italy.
        Following, a large number of cases imported from the Europe to America,
        who blocked traveling from China at the very beginning but left the door
        open to Europe. From this on, the COVID became a really global pandemic
        that nearly crashed most countries medical system. <br /><br />
        Since it became a global issue, many unfriendly and racist actions
        towards Asians revealed again to the public. <br /><br />
        A student from Singapore was beaten up in Oxford Street by a group of
        men who told him that they didn’t want his coronavirus in their country.
        Also, a lot of Anti-Asian prejudice appeared from California to New
        York. And for those Asians who know how to protect themselves from being
        infected and know how to reduce the spread, they wear a mask, which made
        them more vulnerable to be attacked. Since many people just regarded an
        asian with a mask as the virus carrier. <br /><br />
        But I just find it hilarious that people in asian countries, who are
        first exposed to the COVID, who had a much worse pandemic situation, get
        back to almost normal now, while in the US, the number are still
        increasing dramatically. Every one wore a mask and had a quarantine in
        Asian countries. While in America, with Trump blaming China for
        everything and calling it the Chinese virus again and again, the masks
        are not recommended until the very late.<br /><br />
        So here I made this camera that no matter whom use it, it will put a
        changeable mask on the face. And after changing mask styles for few
        times, user can also trigger the scenario of being beaten up like the
        Singaporean student I mention above. <br /><br />
        Hope it could emphasize the importance of wearing a mask during the
        COVID pandemic and reveal one aspect of Asian discrimination.<br /><br />
        <b>Reference:</b><br /><br />
        <a
          href="https://www.bbc.com/news/uk-england-london-51722686"
          target="_blank"
          >Coronavirus: Student from Singapore hurt in Oxford Street attack</a
        ><br />
        A student from Singapore has said he was beaten up by a group of men who
        told him: "I don't want your coronavirus in my country."<br /><br />

        <a
          href="https://www.nationalgeographic.com/history/2020/09/asian-american-racism-covid"
          target="_blank"
          >America’s long history of scapegoating its Asian citizens</a
        ><br />
        When leaders call COVID-19 the “China virus,” it harkens back to decades
        of state-sanctioned discrimination against Asian Americans.<br /><br />

        <a
          href="https://www.nytimes.com/2020/04/12/magazine/asian-american-discrimination-coronavirus.html"
          target="_blank"
          >The Slur I Never Expected to Hear in 2020</a
        ><br />
        As an Asian-American, I’ve been conditioned to a certain kind of
        unspoken racism. This pandemic has unmasked how vicious it really is.<br /><br />

        <a
          href="https://www.straitstimes.com/world/united-states/fake-flyers-and-face-mask-fear-california-fights-coronavirus-discrimination"
          target="_blank"
          >Attacked for wearing face mask: Anti-Asian prejudice bubbles up in
          California over coronavirus fears</a
        ><br />

        On one occasion when she wore a mask outside her office she was accosted
        by a woman. "She started yelling, 'Are you crazy? Get the heck out of
        here," said Ms Yu, 34. "I realised it was because I was wearing a
        mask."<br /><br />
      </p>

      <h1>
        Design Process
      </h1>
      <p>
        <iframe
          width="1162px"
          height="892px"
          src="https://cdn.glitch.com/fbc2a06c-a0ad-427a-ae11-00252e4e8f39%2Fp6%20draft.jpeg?v=1603292482445"
        >
        </iframe>
        The first thing that came to mind about the camera and p5.js was to have
        some fun with the image input, like redrawing human faces into low-poly
        style with triangles, or decomposing and reconstructing the parts in the
        picture to create a unique feeling of the world. <br /><br />
        Then, I looked into things around me and the reality of the COVID
        pandemic pulled me out of the artistic fantasy. What are the situations
        and impacts revealed by the epidemic? <br /><br />
        Online could be one of the keywords in this year. I came up with an idea
        of projecting user‘s face to a virtual character on the canvas. Then the
        user could take a virtual photo in the digital world like a virtual
        gallery or virtual campus. <br /><br />
        The other keyword I found out is the Asian discrimination, which was
        revealed again when the pandemic started, with every Asian wearing a
        mask being regarded as Coronavirus carrier and being cursed or even
        being attacked. <br /><br />
        While the first keyword has already been part of the life for many
        people, the second was only wide-spread across asian community. Hence, I
        decided to design a camera that aligns with the topic about COVID-19,
        masks and asian discrimination. <br /><br />
        I first imported clmtrackr.js to track user’s face. Then, according to
        the tracker array, different styles of masks were drawn on user’s face.
        An ellipse was also created from face location to mask the video so that
        only user’s head area was shown on the canvas. To add more fun, a cap
        emoji and coat emoji were added to the head. What’s more, virus emojis
        were sparkling and shaking in the background to indicate this COVID
        situation. Finally, I used pixel array and changed the color of the
        certain area on the user face to represent being beaten up like the
        Singaporean student, which was triggered by few times of changing mask
        styles.<br /><br />
      </p>
      <!-- 4. reflection -->
      <h1>
        Reflection
      </h1>

      <p>
        Through this design, I have learned more characteristics and functions
        in p5.js like pixel array, createCapture from camera video,
        createGraphics to customize a vector graph whose alpha channel is used
        to mask another element by function mask, and import the clmtrackr.js to
        track the user’s face. There were lots of trials and errors and I came
        up with some tricky ways to solve the unexpected problems, for example,
        I found out when loading the video pixels, all of them are loaded to the
        canvas and cannot be masked, which could be solved by changing alpha
        values of the unneeded pixels into 0. It is necessary to understand how
        program “seeing” us from camera by loading the pixels with R, G, B and
        alpha value.<br /><br />
      </p>

      <!-- 5. code -->
      <h1>
        Code
      </h1>
      <blockquote>
        <div class="WordSection1" style="layout-grid:15.6pt">
          <p class="MsoNormal">
            <span lang="EN-US"
              >//clmtrackr reference: https://github.com/auduno/clmtrackr<o:p
              ></o:p
            ></span>
          </p>

          <p class="MsoNormal">
            <span lang="EN-US"
              >let vid, Mask, shape, ctracker, htracker, detector;<o:p></o:p
            ></span>
          </p>

          <p class="MsoNormal">
            <span lang="EN-US">let start;<o:p></o:p></span>
          </p>

          <p class="MsoNormal">
            <span lang="EN-US">let masknum;<o:p></o:p></span>
          </p>

          <p class="MsoNormal">
            <span lang="EN-US">let beat;<o:p></o:p></span>
          </p>

          <p class="MsoNormal">
            <span lang="EN-US">let c;<o:p></o:p></span>
          </p>

          <p class="MsoNormal">
            <span lang="EN-US"><o:p>&nbsp;</o:p></span>
          </p>

          <p class="MsoNormal">
            <span lang="EN-US">class Virus {<o:p></o:p></span>
          </p>

          <p class="MsoNormal">
            <span lang="EN-US"
              ><span style="mso-spacerun:yes"> </span>constructor() {<o:p></o:p
            ></span>
          </p>

          <p class="MsoNormal">
            <span lang="EN-US"
              ><span style="mso-spacerun:yes"> </span>this.x =
              random(width);<o:p></o:p
            ></span>
          </p>

          <p class="MsoNormal">
            <span lang="EN-US"
              ><span style="mso-spacerun:yes"> </span>this.y =
              random(height);<o:p></o:p
            ></span>
          </p>

          <p class="MsoNormal">
            <span lang="EN-US"
              ><span style="mso-spacerun:yes"> </span>this.size = random(10,
              30);<o:p></o:p
            ></span>
          </p>

          <p class="MsoNormal">
            <span lang="EN-US"
              ><span style="mso-spacerun:yes"> </span>this.speed = 5;<o:p></o:p
            ></span>
          </p>

          <p class="MsoNormal">
            <span lang="EN-US"
              ><span style="mso-spacerun:yes"> </span>}<o:p></o:p
            ></span>
          </p>

          <p class="MsoNormal">
            <span lang="EN-US"><o:p>&nbsp;</o:p></span>
          </p>

          <p class="MsoNormal">
            <span lang="EN-US"
              ><span style="mso-spacerun:yes"> </span>move() {<o:p></o:p
            ></span>
          </p>

          <p class="MsoNormal">
            <span lang="EN-US"
              ><span style="mso-spacerun:yes"> </span>this.x +=
              random(-this.speed, this.speed);<o:p></o:p
            ></span>
          </p>

          <p class="MsoNormal">
            <span lang="EN-US"
              ><span style="mso-spacerun:yes"> </span>this.y +=
              random(-this.speed, this.speed);<o:p></o:p
            ></span>
          </p>

          <p class="MsoNormal">
            <span lang="EN-US"
              ><span style="mso-spacerun:yes"> </span>}<o:p></o:p
            ></span>
          </p>

          <p class="MsoNormal">
            <span lang="EN-US"><o:p>&nbsp;</o:p></span>
          </p>

          <p class="MsoNormal">
            <span lang="EN-US"
              ><span style="mso-spacerun:yes"> </span>display() {<o:p></o:p
            ></span>
          </p>

          <p class="MsoNormal">
            <span lang="EN-US"
              ><span style="mso-spacerun:yes"> </span>push();<o:p></o:p
            ></span>
          </p>

          <p class="MsoNormal">
            <span lang="EN-US"
              ><span style="mso-spacerun:yes"> </span>if (random([0, 1])) {<o:p
              ></o:p
            ></span>
          </p>

          <p class="MsoNormal">
            <span lang="EN-US"
              ><span style="mso-spacerun:yes"> </span>textSize(this.size);<o:p
              ></o:p
            ></span>
          </p>

          <p class="MsoNormal">
            <span lang="EN-US"
              ><span style="mso-spacerun:yes"> </span>text('</span
            ><span
              lang="EN-US"
              style='font-family:"Apple Color Emoji";
mso-bidi-font-family:"Apple Color Emoji"'
              >&#129440;</span
            ><span lang="EN-US">', this.x, this.y);<o:p></o:p></span>
          </p>

          <p class="MsoNormal">
            <span lang="EN-US"
              ><span style="mso-spacerun:yes"> </span>} else {<o:p></o:p
            ></span>
          </p>

          <p class="MsoNormal">
            <span lang="EN-US"
              ><span style="mso-spacerun:yes"> </span>fill(10, 200, 30,
              random(0, 50));<o:p></o:p
            ></span>
          </p>

          <p class="MsoNormal">
            <span lang="EN-US"
              ><span style="mso-spacerun:yes"> </span>noStroke();<o:p></o:p
            ></span>
          </p>

          <p class="MsoNormal">
            <span lang="EN-US"
              ><span style="mso-spacerun:yes"> </span>circle(this.x, this.y,
              this.size);<o:p></o:p
            ></span>
          </p>

          <p class="MsoNormal">
            <span lang="EN-US"
              ><span style="mso-spacerun:yes"> </span>}<o:p></o:p
            ></span>
          </p>

          <p class="MsoNormal">
            <span lang="EN-US"
              ><span style="mso-spacerun:yes"> </span>pop();<o:p></o:p
            ></span>
          </p>

          <p class="MsoNormal">
            <span lang="EN-US"
              ><span style="mso-spacerun:yes"> </span>}<o:p></o:p
            ></span>
          </p>

          <p class="MsoNormal">
            <span lang="EN-US">}<o:p></o:p></span>
          </p>

          <p class="MsoNormal">
            <span lang="EN-US"><o:p>&nbsp;</o:p></span>
          </p>

          <p class="MsoNormal">
            <span lang="EN-US">function preload() {<o:p></o:p></span>
          </p>

          <p class="MsoNormal">
            <span lang="EN-US"
              ><span style="mso-spacerun:yes"> </span>img =
              loadImage('Jonathan.png');<o:p></o:p
            ></span>
          </p>

          <p class="MsoNormal">
            <span lang="EN-US">}<o:p></o:p></span>
          </p>

          <p class="MsoNormal">
            <span lang="EN-US"><o:p>&nbsp;</o:p></span>
          </p>

          <p class="MsoNormal">
            <span lang="EN-US">function setup() {<o:p></o:p></span>
          </p>

          <p class="MsoNormal">
            <span lang="EN-US"
              ><span style="mso-spacerun:yes"> </span>createCanvas(400,
              300);<o:p></o:p
            ></span>
          </p>

          <p class="MsoNormal">
            <span lang="EN-US"><o:p>&nbsp;</o:p></span>
          </p>

          <p class="MsoNormal">
            <span lang="EN-US"
              ><span style="mso-spacerun:yes"> </span>// initialize 30 virus
              illustrations<o:p></o:p
            ></span>
          </p>

          <p class="MsoNormal">
            <span lang="EN-US"
              ><span style="mso-spacerun:yes"> </span>let cnt = 30;<o:p></o:p
            ></span>
          </p>

          <p class="MsoNormal">
            <span lang="EN-US"
              ><span style="mso-spacerun:yes"> </span>V = new Array();<o:p></o:p
            ></span>
          </p>

          <p class="MsoNormal">
            <span lang="EN-US"
              ><span style="mso-spacerun:yes"> </span>while (cnt--) {<o:p></o:p
            ></span>
          </p>

          <p class="MsoNormal">
            <span lang="EN-US"
              ><span style="mso-spacerun:yes"> </span>V.push(new Virus());<o:p
              ></o:p
            ></span>
          </p>

          <p class="MsoNormal">
            <span lang="EN-US"
              ><span style="mso-spacerun:yes"> </span>}<o:p></o:p
            ></span>
          </p>

          <p class="MsoNormal">
            <span lang="EN-US"><o:p>&nbsp;</o:p></span>
          </p>

          <p class="MsoNormal">
            <span lang="EN-US"
              ><span style="mso-spacerun:yes"> </span>button =
              createButton('change');<o:p></o:p
            ></span>
          </p>

          <p class="MsoNormal">
            <span lang="EN-US"
              ><span style="mso-spacerun:yes"> </span>button.position(width -
              button.width, height - button.height);<o:p></o:p
            ></span>
          </p>

          <p class="MsoNormal">
            <span lang="EN-US"><o:p>&nbsp;</o:p></span>
          </p>

          <p class="MsoNormal">
            <span lang="EN-US"
              ><span style="mso-spacerun:yes"> </span>Mask =
              createGraphics(width, height);<o:p></o:p
            ></span>
          </p>

          <p class="MsoNormal">
            <span lang="EN-US"
              ><span style="mso-spacerun:yes"> </span
              >Mask.ellipseMode(CORNERS);<o:p></o:p
            ></span>
          </p>

          <p class="MsoNormal">
            <span lang="EN-US"
              ><span style="mso-spacerun:yes"> </span>shape =
              createGraphics(width, height);<o:p></o:p
            ></span>
          </p>

          <p class="MsoNormal">
            <span lang="EN-US"
              ><span style="mso-spacerun:yes"> </span
              >shape.ellipseMode(CORNERS);<o:p></o:p
            ></span>
          </p>

          <p class="MsoNormal">
            <span lang="EN-US"><o:p>&nbsp;</o:p></span>
          </p>

          <p class="MsoNormal">
            <span lang="EN-US"
              ><span style="mso-spacerun:yes"> </span>vid =
              createCapture(VIDEO);<o:p></o:p
            ></span>
          </p>

          <p class="MsoNormal">
            <span lang="EN-US"
              ><span style="mso-spacerun:yes"> </span>vid.size(width,
              height);<o:p></o:p
            ></span>
          </p>

          <p class="MsoNormal">
            <span lang="EN-US"
              ><span style="mso-spacerun:yes"> </span>vid.hide();<o:p></o:p
            ></span>
          </p>

          <p class="MsoNormal">
            <span lang="EN-US"><o:p>&nbsp;</o:p></span>
          </p>

          <p class="MsoNormal">
            <span lang="EN-US"
              ><span style="mso-spacerun:yes"> </span>ctracker = new
              clm.tracker();<o:p></o:p
            ></span>
          </p>

          <p class="MsoNormal">
            <span lang="EN-US"
              ><span style="mso-spacerun:yes"> </span>ctracker.init();<o:p></o:p
            ></span>
          </p>

          <p class="MsoNormal">
            <span lang="EN-US"
              ><span style="mso-spacerun:yes"> </span
              >ctracker.start(vid.elt);<o:p></o:p
            ></span>
          </p>

          <p class="MsoNormal">
            <span lang="EN-US"><o:p>&nbsp;</o:p></span>
          </p>

          <p class="MsoNormal">
            <span lang="EN-US"
              ><span style="mso-spacerun:yes"> </span>start = false;<o:p></o:p
            ></span>
          </p>

          <p class="MsoNormal">
            <span lang="EN-US"
              ><span style="mso-spacerun:yes"> </span>masknum = 1;<o:p></o:p
            ></span>
          </p>

          <p class="MsoNormal">
            <span lang="EN-US"
              ><span style="mso-spacerun:yes"> </span>beat = 0;<o:p></o:p
            ></span>
          </p>

          <p class="MsoNormal">
            <span lang="EN-US"><o:p>&nbsp;</o:p></span>
          </p>

          <p class="MsoNormal">
            <span lang="EN-US"
              ><span style="mso-spacerun:yes"> </span>pixelDensity(1);<o:p></o:p
            ></span>
          </p>

          <p class="MsoNormal">
            <span lang="EN-US"
              ><span style="mso-spacerun:yes"> </span>textAlign(CENTER);<o:p
              ></o:p
            ></span>
          </p>

          <p class="MsoNormal">
            <span lang="EN-US"
              ><span style="mso-spacerun:yes"> </span>angleMode(DEGREES);<o:p
              ></o:p
            ></span>
          </p>

          <p class="MsoNormal">
            <span lang="EN-US">}<o:p></o:p></span>
          </p>

          <p class="MsoNormal">
            <span lang="EN-US"><o:p>&nbsp;</o:p></span>
          </p>

          <p class="MsoNormal">
            <span lang="EN-US">function drawMask(pos) {<o:p></o:p></span>
          </p>

          <p class="MsoNormal">
            <span lang="EN-US"
              ><span style="mso-spacerun:yes"> </span>let x1 = pos[2][0],<o:p
              ></o:p
            ></span>
          </p>

          <p class="MsoNormal">
            <span lang="EN-US"
              ><span style="mso-spacerun:yes"> </span>y1 = pos[41][1],<o:p></o:p
            ></span>
          </p>

          <p class="MsoNormal">
            <span lang="EN-US"
              ><span style="mso-spacerun:yes"> </span>x2 = pos[12][0],<o:p></o:p
            ></span>
          </p>

          <p class="MsoNormal">
            <span lang="EN-US"
              ><span style="mso-spacerun:yes"> </span>y2 = pos[7][1];<o:p></o:p
            ></span>
          </p>

          <p class="MsoNormal">
            <span lang="EN-US"
              ><span style="mso-spacerun:yes"> </span>if (masknum) {<o:p></o:p
            ></span>
          </p>

          <p class="MsoNormal">
            <span lang="EN-US"
              ><span style="mso-spacerun:yes"> </span>Mask.clear();<o:p></o:p
            ></span>
          </p>

          <p class="MsoNormal">
            <span lang="EN-US"
              ><span style="mso-spacerun:yes"> </span>Mask.noStroke();<o:p></o:p
            ></span>
          </p>

          <p class="MsoNormal">
            <span lang="EN-US"
              ><span style="mso-spacerun:yes"> </span>Mask.fill(c);<o:p></o:p
            ></span>
          </p>

          <p class="MsoNormal">
            <span lang="EN-US"
              ><span style="mso-spacerun:yes"> </span>Mask.ellipse(x1, y1, x2,
              y2);<o:p></o:p
            ></span>
          </p>

          <p class="MsoNormal">
            <span lang="EN-US"
              ><span style="mso-spacerun:yes"> </span>Mask.stroke(c);<o:p></o:p
            ></span>
          </p>

          <p class="MsoNormal">
            <span lang="EN-US"
              ><span style="mso-spacerun:yes"> </span>Mask.strokeWeight(3);<o:p
              ></o:p
            ></span>
          </p>

          <p class="MsoNormal">
            <span lang="EN-US"
              ><span style="mso-spacerun:yes"> </span>Mask.line(pos[1][0],
              pos[1][1], pos[3][0], pos[3][1]);<o:p></o:p
            ></span>
          </p>

          <p class="MsoNormal">
            <span lang="EN-US"
              ><span style="mso-spacerun:yes"> </span>Mask.line(pos[13][0],
              pos[13][1], pos[11][0], pos[11][1]);<o:p></o:p
            ></span>
          </p>

          <p class="MsoNormal">
            <span lang="EN-US"><o:p>&nbsp;</o:p></span>
          </p>

          <p class="MsoNormal">
            <span lang="EN-US"
              ><span style="mso-spacerun:yes"> </span>} else {<o:p></o:p
            ></span>
          </p>

          <p class="MsoNormal">
            <span lang="EN-US"
              ><span style="mso-spacerun:yes"> </span>Mask.clear();<o:p></o:p
            ></span>
          </p>

          <p class="MsoNormal">
            <span lang="EN-US"
              ><span style="mso-spacerun:yes"> </span>Mask.fill(c);<o:p></o:p
            ></span>
          </p>

          <p class="MsoNormal">
            <span lang="EN-US"
              ><span style="mso-spacerun:yes"> </span>Mask.noStroke();<o:p></o:p
            ></span>
          </p>

          <p class="MsoNormal">
            <span lang="EN-US"
              ><span style="mso-spacerun:yes"> </span>Mask.beginShape();<o:p
              ></o:p
            ></span>
          </p>

          <p class="MsoNormal">
            <span lang="EN-US"
              ><span style="mso-spacerun:yes"> </span>Mask.vertex(pos[62][0],
              pos[62][1]);<o:p></o:p
            ></span>
          </p>

          <p class="MsoNormal">
            <span lang="EN-US"
              ><span style="mso-spacerun:yes"> </span>Mask.vertex(pos[2][0],
              pos[2][1]);<o:p></o:p
            ></span>
          </p>

          <p class="MsoNormal">
            <span lang="EN-US"
              ><span style="mso-spacerun:yes"> </span>Mask.vertex(pos[5][0],
              y2);<o:p></o:p
            ></span>
          </p>

          <p class="MsoNormal">
            <span lang="EN-US"
              ><span style="mso-spacerun:yes"> </span>Mask.vertex(pos[9][0],
              y2);<o:p></o:p
            ></span>
          </p>

          <p class="MsoNormal">
            <span lang="EN-US"
              ><span style="mso-spacerun:yes"> </span>Mask.vertex(pos[12][0],
              pos[12][1]);<o:p></o:p
            ></span>
          </p>

          <p class="MsoNormal">
            <span lang="EN-US"
              ><span style="mso-spacerun:yes"> </span>Mask.endShape(CLOSE);<o:p
              ></o:p
            ></span>
          </p>

          <p class="MsoNormal">
            <span lang="EN-US"
              ><span style="mso-spacerun:yes"> </span>Mask.stroke(c);<o:p></o:p
            ></span>
          </p>

          <p class="MsoNormal">
            <span lang="EN-US"
              ><span style="mso-spacerun:yes"> </span>Mask.strokeWeight(3);<o:p
              ></o:p
            ></span>
          </p>

          <p class="MsoNormal">
            <span lang="EN-US"
              ><span style="mso-spacerun:yes"> </span>Mask.line(pos[1][0],
              pos[1][1], pos[3][0], pos[3][1]);<o:p></o:p
            ></span>
          </p>

          <p class="MsoNormal">
            <span lang="EN-US"
              ><span style="mso-spacerun:yes"> </span>Mask.line(pos[13][0],
              pos[13][1], pos[11][0], pos[11][1]);<o:p></o:p
            ></span>
          </p>

          <p class="MsoNormal">
            <span lang="EN-US"
              ><span style="mso-spacerun:yes"> </span>}<o:p></o:p
            ></span>
          </p>

          <p class="MsoNormal">
            <span lang="EN-US"><o:p>&nbsp;</o:p></span>
          </p>

          <p class="MsoNormal">
            <span lang="EN-US"
              ><span style="mso-spacerun:yes"> </span>image(Mask, 0, 0);<o:p
              ></o:p
            ></span>
          </p>

          <p class="MsoNormal">
            <span lang="EN-US">}<o:p></o:p></span>
          </p>

          <p class="MsoNormal">
            <span lang="EN-US"><o:p>&nbsp;</o:p></span>
          </p>

          <p class="MsoNormal">
            <span lang="EN-US"
              >// elliptical shape is used to mask the video and demonstrate
              only the head area<o:p></o:p
            ></span>
          </p>

          <p class="MsoNormal">
            <span lang="EN-US">function Shape(pos) {<o:p></o:p></span>
          </p>

          <p class="MsoNormal">
            <span lang="EN-US"
              ><span style="mso-spacerun:yes"> </span
              ><span style="mso-spacerun:yes"> </span>let x1 = pos[1][0],<o:p
              ></o:p
            ></span>
          </p>

          <p class="MsoNormal">
            <span lang="EN-US"
              ><span style="mso-spacerun:yes"> </span>y1 = pos[33][1],<o:p></o:p
            ></span>
          </p>

          <p class="MsoNormal">
            <span lang="EN-US"
              ><span style="mso-spacerun:yes"> </span>x2 = pos[13][0],<o:p></o:p
            ></span>
          </p>

          <p class="MsoNormal">
            <span lang="EN-US"
              ><span style="mso-spacerun:yes"> </span>y2 = pos[7][1];<o:p></o:p
            ></span>
          </p>

          <p class="MsoNormal">
            <span lang="EN-US"
              ><span style="mso-spacerun:yes"> </span>shape.clear();<o:p></o:p
            ></span>
          </p>

          <p class="MsoNormal">
            <span lang="EN-US"
              ><span style="mso-spacerun:yes"> </span>shape.noStroke();<o:p
              ></o:p
            ></span>
          </p>

          <p class="MsoNormal">
            <span lang="EN-US"
              ><span style="mso-spacerun:yes"> </span>shape.fill(0);<o:p></o:p
            ></span>
          </p>

          <p class="MsoNormal">
            <span lang="EN-US"
              ><span style="mso-spacerun:yes"> </span>shape.ellipse(x1 - 30, y1
              - (y2 - y1) / 3 - 30, x2 + 30, y2 + 30);<o:p></o:p
            ></span>
          </p>

          <p class="MsoNormal">
            <span lang="EN-US">}<o:p></o:p></span>
          </p>

          <p class="MsoNormal">
            <span lang="EN-US"><o:p>&nbsp;</o:p></span>
          </p>

          <p class="MsoNormal">
            <span lang="EN-US">function loading() {<o:p></o:p></span>
          </p>

          <p class="MsoNormal">
            <span lang="EN-US"
              ><span style="mso-spacerun:yes"> </span>fill(10, 100, 200);<o:p
              ></o:p
            ></span>
          </p>

          <p class="MsoNormal">
            <span lang="EN-US"
              ><span style="mso-spacerun:yes"> </span>textSize(60);<o:p></o:p
            ></span>
          </p>

          <p class="MsoNormal">
            <span lang="EN-US"
              ><span style="mso-spacerun:yes"> </span>text('Loading...', width /
              2, height / 2);<o:p></o:p
            ></span>
          </p>

          <p class="MsoNormal">
            <span lang="EN-US"
              ><span style="mso-spacerun:yes"> </span>c = color(random([0, 1]) ?
              color(random(0, 200), random(200, 255)) : color(random(69, 79),
              random(166, 176), random(234, 244), random(200, 255)));<o:p></o:p
            ></span>
          </p>

          <p class="MsoNormal">
            <span lang="EN-US"
              ><span style="mso-spacerun:yes"> </span>button.hide();<o:p></o:p
            ></span>
          </p>

          <p class="MsoNormal">
            <span lang="EN-US">}<o:p></o:p></span>
          </p>

          <p class="MsoNormal">
            <span lang="EN-US"><o:p>&nbsp;</o:p></span>
          </p>

          <p class="MsoNormal">
            <span lang="EN-US">function noface() {<o:p></o:p></span>
          </p>

          <p class="MsoNormal">
            <span lang="EN-US"
              ><span style="mso-spacerun:yes"> </span>fill(10, 200, 100);<o:p
              ></o:p
            ></span>
          </p>

          <p class="MsoNormal">
            <span lang="EN-US"
              ><span style="mso-spacerun:yes"> </span>textSize(60);<o:p></o:p
            ></span>
          </p>

          <p class="MsoNormal">
            <span lang="EN-US"
              ><span style="mso-spacerun:yes"> </span>text('Wait for a face',
              width / 2, height / 2);<o:p></o:p
            ></span>
          </p>

          <p class="MsoNormal">
            <span lang="EN-US"
              ><span style="mso-spacerun:yes"> </span>button.hide();<o:p></o:p
            ></span>
          </p>

          <p class="MsoNormal">
            <span lang="EN-US">}<o:p></o:p></span>
          </p>

          <p class="MsoNormal">
            <span lang="EN-US"><o:p>&nbsp;</o:p></span>
          </p>

          <p class="MsoNormal">
            <span lang="EN-US"
              >function inEllipse(x, y, x1, x2, y1, y2) {<o:p></o:p
            ></span>
          </p>

          <p class="MsoNormal">
            <span lang="EN-US"
              ><span style="mso-spacerun:yes"> </span>let r1 = abs(x1 - x2);<o:p
              ></o:p
            ></span>
          </p>

          <p class="MsoNormal">
            <span lang="EN-US"
              ><span style="mso-spacerun:yes"> </span>let r2 = abs(y1 - y2);<o:p
              ></o:p
            ></span>
          </p>

          <p class="MsoNormal">
            <span lang="EN-US"
              ><span style="mso-spacerun:yes"> </span>if (sq(x - x2) / sq(r1) +
              sq(y - 2 * y1 + y2) / sq(r2) &lt;= 1) return true;<o:p></o:p
            ></span>
          </p>

          <p class="MsoNormal">
            <span lang="EN-US"
              ><span style="mso-spacerun:yes"> </span>else return false;<o:p
              ></o:p
            ></span>
          </p>

          <p class="MsoNormal">
            <span lang="EN-US">}<o:p></o:p></span>
          </p>

          <p class="MsoNormal">
            <span lang="EN-US"><o:p>&nbsp;</o:p></span>
          </p>

          <p class="MsoNormal">
            <span lang="EN-US"
              >function inCircle(x, y, x1, x2, y1, y2) {<o:p></o:p
            ></span>
          </p>

          <p class="MsoNormal">
            <span lang="EN-US"
              ><span style="mso-spacerun:yes"> </span>let r = sqrt(sq(x1 - x2) +
              sq(y1 - y2)) / 2;<o:p></o:p
            ></span>
          </p>

          <p class="MsoNormal">
            <span lang="EN-US"
              ><span style="mso-spacerun:yes"> </span>let xc = (x1 + x2) /
              2;<o:p></o:p
            ></span>
          </p>

          <p class="MsoNormal">
            <span lang="EN-US"
              ><span style="mso-spacerun:yes"> </span>let yc = (y1 + y2) /
              2;<o:p></o:p
            ></span>
          </p>

          <p class="MsoNormal">
            <span lang="EN-US"
              ><span style="mso-spacerun:yes"> </span>if (sq(x - xc) + sq(y -
              yc) &lt;= sq(r)) return true;<o:p></o:p
            ></span>
          </p>

          <p class="MsoNormal">
            <span lang="EN-US"
              ><span style="mso-spacerun:yes"> </span>else return false;<o:p
              ></o:p
            ></span>
          </p>

          <p class="MsoNormal">
            <span lang="EN-US">}<o:p></o:p></span>
          </p>

          <p class="MsoNormal">
            <span lang="EN-US"><o:p>&nbsp;</o:p></span>
          </p>

          <p class="MsoNormal">
            <span lang="EN-US">function Beat(pos) {<o:p></o:p></span>
          </p>

          <p class="MsoNormal">
            <span lang="EN-US"
              ><span style="mso-spacerun:yes"> </span>let x1_start =
              int(pos[66][0]);<o:p></o:p
            ></span>
          </p>

          <p class="MsoNormal">
            <span lang="EN-US"
              ><span style="mso-spacerun:yes"> </span>let y1_start =
              int(pos[26][1]);<o:p></o:p
            ></span>
          </p>

          <p class="MsoNormal">
            <span lang="EN-US"
              ><span style="mso-spacerun:yes"> </span>let x1_end =
              int(pos[25][0]);<o:p></o:p
            ></span>
          </p>

          <p class="MsoNormal">
            <span lang="EN-US"
              ><span style="mso-spacerun:yes"> </span>let y1_end =
              int(pos[34][1]);<o:p></o:p
            ></span>
          </p>

          <p class="MsoNormal">
            <span lang="EN-US"
              ><span style="mso-spacerun:yes"> </span>let x2_start =
              int(pos[67][0]);<o:p></o:p
            ></span>
          </p>

          <p class="MsoNormal">
            <span lang="EN-US"
              ><span style="mso-spacerun:yes"> </span>let y2_start =
              int(pos[67][1]);<o:p></o:p
            ></span>
          </p>

          <p class="MsoNormal">
            <span lang="EN-US"
              ><span style="mso-spacerun:yes"> </span>let x2_end =
              int(pos[28][0]);<o:p></o:p
            ></span>
          </p>

          <p class="MsoNormal">
            <span lang="EN-US"
              ><span style="mso-spacerun:yes"> </span>let y2_end =
              int(pos[28][1]);<o:p></o:p
            ></span>
          </p>

          <p class="MsoNormal">
            <span lang="EN-US"
              ><span style="mso-spacerun:yes"> </span><o:p></o:p
            ></span>
          </p>

          <p class="MsoNormal">
            <span lang="EN-US"
              ><span style="mso-spacerun:yes"> </span>vid.loadPixels();<o:p
              ></o:p
            ></span>
          </p>

          <p class="MsoNormal">
            <span lang="EN-US"
              ><span style="mso-spacerun:yes"> </span>for (let y = 0; y &lt;
              height; y++)<o:p></o:p
            ></span>
          </p>

          <p class="MsoNormal">
            <span lang="EN-US"
              ><span style="mso-spacerun:yes"> </span
              ><span style="mso-spacerun:yes"> </span>for (let x = 0; x &lt;
              width; x++) {<o:p></o:p
            ></span>
          </p>

          <p class="MsoNormal">
            <span lang="EN-US"
              ><span style="mso-spacerun:yes"> </span>let index = (x + y *
              width) * 4;<o:p></o:p
            ></span>
          </p>

          <p class="MsoNormal">
            <span lang="EN-US"
              ><span style="mso-spacerun:yes"> </span>if (inCircle(x, y,
              x1_start, x1_end, y1_start, y1_end)) {<o:p></o:p
            ></span>
          </p>

          <p class="MsoNormal">
            <span lang="EN-US"
              ><span style="mso-spacerun:yes"> </span>vid.pixels[index] -=
              73;<o:p></o:p
            ></span>
          </p>

          <p class="MsoNormal">
            <span lang="EN-US"
              ><span style="mso-spacerun:yes"> </span>vid.pixels[index + 1] -=
              68;<o:p></o:p
            ></span>
          </p>

          <p class="MsoNormal">
            <span lang="EN-US"
              ><span style="mso-spacerun:yes"> </span>vid.pixels[index + 2] -=
              36;<o:p></o:p
            ></span>
          </p>

          <p class="MsoNormal">
            <span lang="EN-US"
              ><span style="mso-spacerun:yes"> </span>} else if (inEllipse(x, y,
              x2_start, x2_end, y2_start, y2_end)) {<o:p></o:p
            ></span>
          </p>

          <p class="MsoNormal">
            <span lang="EN-US"
              ><span style="mso-spacerun:yes"> </span>vid.pixels[index] -=
              42;<o:p></o:p
            ></span>
          </p>

          <p class="MsoNormal">
            <span lang="EN-US"
              ><span style="mso-spacerun:yes"> </span>vid.pixels[index + 1] -=
              23;<o:p></o:p
            ></span>
          </p>

          <p class="MsoNormal">
            <span lang="EN-US"
              ><span style="mso-spacerun:yes"> </span>vid.pixels[index + 2] -=
              13;<o:p></o:p
            ></span>
          </p>

          <p class="MsoNormal">
            <span lang="EN-US"
              ><span style="mso-spacerun:yes"> </span>} else vid.pixels[index +
              3] = 0;<o:p></o:p
            ></span>
          </p>

          <p class="MsoNormal">
            <span lang="EN-US"
              ><span style="mso-spacerun:yes"> </span>}<o:p></o:p
            ></span>
          </p>

          <p class="MsoNormal">
            <span lang="EN-US"
              ><span style="mso-spacerun:yes"> </span>vid.updatePixels();<o:p
              ></o:p
            ></span>
          </p>

          <p class="MsoNormal">
            <span lang="EN-US"
              ><span style="mso-spacerun:yes"> </span><o:p></o:p
            ></span>
          </p>

          <p class="MsoNormal">
            <span lang="EN-US"
              ><span style="mso-spacerun:yes"> </span>image(vid, 0, 0, width,
              height);<o:p></o:p
            ></span>
          </p>

          <p class="MsoNormal">
            <span lang="EN-US">}<o:p></o:p></span>
          </p>

          <p class="MsoNormal">
            <span lang="EN-US"><o:p>&nbsp;</o:p></span>
          </p>

          <p class="MsoNormal">
            <span lang="EN-US">function draw() {<o:p></o:p></span>
          </p>

          <p class="MsoNormal">
            <span lang="EN-US"
              ><span style="mso-spacerun:yes"> </span
              >background('rgba(255,255,255,20)');<o:p></o:p
            ></span>
          </p>

          <p class="MsoNormal">
            <span lang="EN-US"
              ><span style="mso-spacerun:yes"> </span>// move background
              viruses<o:p></o:p
            ></span>
          </p>

          <p class="MsoNormal">
            <span lang="EN-US"
              ><span style="mso-spacerun:yes"> </span>V.forEach(function(v)
              {<o:p></o:p
            ></span>
          </p>

          <p class="MsoNormal">
            <span lang="EN-US"
              ><span style="mso-spacerun:yes"> </span>v.move();<o:p></o:p
            ></span>
          </p>

          <p class="MsoNormal">
            <span lang="EN-US"
              ><span style="mso-spacerun:yes"> </span>v.display()<o:p></o:p
            ></span>
          </p>

          <p class="MsoNormal">
            <span lang="EN-US"
              ><span style="mso-spacerun:yes"> </span>});<o:p></o:p
            ></span>
          </p>

          <p class="MsoNormal">
            <span lang="EN-US"
              ><span style="mso-spacerun:yes"> </span>// change facemask type
              and color<o:p></o:p
            ></span>
          </p>

          <p class="MsoNormal">
            <span lang="EN-US"
              ><span style="mso-spacerun:yes"> </span
              >button.mousePressed(function() {<o:p></o:p
            ></span>
          </p>

          <p class="MsoNormal">
            <span lang="EN-US"
              ><span style="mso-spacerun:yes"> </span>masknum = !masknum;<o:p
              ></o:p
            ></span>
          </p>

          <p class="MsoNormal">
            <span lang="EN-US"
              ><span style="mso-spacerun:yes"> </span>beat++;<o:p></o:p
            ></span>
          </p>

          <p class="MsoNormal">
            <span lang="EN-US"
              ><span style="mso-spacerun:yes"> </span>c = color(random([0, 1]) ?
              color(random(0, 200), random(200, 255)) : color(random(69, 79),
              random(166, 176), random(234, 244), random(200, 255)));<o:p></o:p
            ></span>
          </p>

          <p class="MsoNormal">
            <span lang="EN-US"
              ><span style="mso-spacerun:yes"> </span>});<o:p></o:p
            ></span>
          </p>

          <p class="MsoNormal">
            <span lang="EN-US"
              ><span style="mso-spacerun:yes"> </span><o:p></o:p
            ></span>
          </p>

          <p class="MsoNormal">
            <span lang="EN-US"
              ><span style="mso-spacerun:yes"> </span>let pos =
              ctracker.getCurrentPosition();<o:p></o:p
            ></span>
          </p>

          <p class="MsoNormal">
            <span lang="EN-US"
              ><span style="mso-spacerun:yes"> </span>if (!pos &amp;&amp;
              !start) loading();<o:p></o:p
            ></span>
          </p>

          <p class="MsoNormal">
            <span lang="EN-US"
              ><span style="mso-spacerun:yes"> </span>else if (!pos &amp;&amp;
              start) noface();<o:p></o:p
            ></span>
          </p>

          <p class="MsoNormal">
            <span lang="EN-US"
              ><span style="mso-spacerun:yes"> </span>else {<o:p></o:p
            ></span>
          </p>

          <p class="MsoNormal">
            <span lang="EN-US"
              ><span style="mso-spacerun:yes"> </span>start = true;<o:p></o:p
            ></span>
          </p>

          <p class="MsoNormal">
            <span lang="EN-US"
              ><span style="mso-spacerun:yes"> </span>button.show();<o:p></o:p
            ></span>
          </p>

          <p class="MsoNormal">
            <span lang="EN-US"
              ><span style="mso-spacerun:yes"> </span><o:p></o:p
            ></span>
          </p>

          <p class="MsoNormal">
            <span lang="EN-US"
              ><span style="mso-spacerun:yes"> </span>if (beat &gt;= 4) {<o:p
              ></o:p
            ></span>
          </p>

          <p class="MsoNormal">
            <span lang="EN-US"
              ><span style="mso-spacerun:yes"> </span>push();<o:p></o:p
            ></span>
          </p>

          <p class="MsoNormal">
            <span lang="EN-US"
              ><span style="mso-spacerun:yes"> </span>fill(10, 100, 200,
              200);<o:p></o:p
            ></span>
          </p>

          <p class="MsoNormal">
            <span lang="EN-US"
              ><span style="mso-spacerun:yes"> </span>textFont('Impact');<o:p
              ></o:p
            ></span>
          </p>

          <p class="MsoNormal">
            <span lang="EN-US"
              ><span style="mso-spacerun:yes"> </span>textAlign(CENTER);<o:p
              ></o:p
            ></span>
          </p>

          <p class="MsoNormal">
            <span lang="EN-US"
              ><span style="mso-spacerun:yes"> </span>textSize(40);<o:p></o:p
            ></span>
          </p>

          <p class="MsoNormal">
            <span lang="EN-US"
              ><span style="mso-spacerun:yes"> </span>text('YOU ARE BEATEN
              UP\nFOR WEARING A MASK', width / 2, 40);<o:p></o:p
            ></span>
          </p>

          <p class="MsoNormal">
            <span lang="EN-US"
              ><span style="mso-spacerun:yes"> </span>pop();<o:p></o:p
            ></span>
          </p>

          <p class="MsoNormal">
            <span lang="EN-US"><o:p>&nbsp;</o:p></span>
          </p>

          <p class="MsoNormal">
            <span lang="EN-US"
              ><span style="mso-spacerun:yes"> </span>push();<o:p></o:p
            ></span>
          </p>

          <p class="MsoNormal">
            <span lang="EN-US"
              ><span style="mso-spacerun:yes"> </span>fill(10);<o:p></o:p
            ></span>
          </p>

          <p class="MsoNormal">
            <span lang="EN-US"
              ><span style="mso-spacerun:yes"> </span>textFont('Arial');<o:p
              ></o:p
            ></span>
          </p>

          <p class="MsoNormal">
            <span lang="EN-US"
              ><span style="mso-spacerun:yes"> </span>textAlign(LEFT);<o:p></o:p
            ></span>
          </p>

          <p class="MsoNormal">
            <span lang="EN-US"
              ><span style="mso-spacerun:yes"> </span>textSize(10);<o:p></o:p
            ></span>
          </p>

          <p class="MsoNormal">
            <span lang="EN-US"
              ><span style="mso-spacerun:yes"> </span>text('This is
              exactly\nwhat happened to\nsome Asians\nat the beginning of\nthe
              COVID-19\nin western countries.', width - 100, 150);<o:p></o:p
            ></span>
          </p>

          <p class="MsoNormal">
            <span lang="EN-US"
              ><span style="mso-spacerun:yes"> </span>image(img, 40, 150, 50,
              62);<o:p></o:p
            ></span>
          </p>

          <p class="MsoNormal">
            <span lang="EN-US"
              ><span style="mso-spacerun:yes"> </span>pop();<o:p></o:p
            ></span>
          </p>

          <p class="MsoNormal">
            <span lang="EN-US"
              ><span style="mso-spacerun:yes"> </span>}<o:p></o:p
            ></span>
          </p>

          <p class="MsoNormal">
            <span lang="EN-US"><o:p>&nbsp;</o:p></span>
          </p>

          <p class="MsoNormal">
            <span lang="EN-US"
              ><span style="mso-spacerun:yes"> </span>push();<o:p></o:p
            ></span>
          </p>

          <p class="MsoNormal">
            <span lang="EN-US"
              ><span style="mso-spacerun:yes"> </span>let ts = ((pos[13][0] +
              30) - (pos[1][0] - 30)) * 2.5;<o:p></o:p
            ></span>
          </p>

          <p class="MsoNormal">
            <span lang="EN-US"
              ><span style="mso-spacerun:yes"> </span>textSize(ts);<o:p></o:p
            ></span>
          </p>

          <p class="MsoNormal">
            <span lang="EN-US"
              ><span style="mso-spacerun:yes"> </span>text('</span
            ><span
              lang="EN-US"
              style='font-family:"Apple Color Emoji";
mso-bidi-font-family:"Apple Color Emoji"'
              >&#129404;</span
            ><span lang="EN-US"
              >', pos[7][0], pos[7][1] + pos[7][1] - pos[37][1] + 60 + ts /
              2);<o:p></o:p
            ></span>
          </p>

          <p class="MsoNormal">
            <span lang="EN-US"
              ><span style="mso-spacerun:yes"> </span>pop();<o:p></o:p
            ></span>
          </p>

          <p class="MsoNormal">
            <span lang="EN-US"><o:p>&nbsp;</o:p></span>
          </p>

          <p class="MsoNormal">
            <span lang="EN-US"
              ><span style="mso-spacerun:yes"> </span>image(vid, 0, 0, width,
              height);<o:p></o:p
            ></span>
          </p>

          <p class="MsoNormal">
            <span lang="EN-US"
              ><span style="mso-spacerun:yes"> </span><o:p></o:p
            ></span>
          </p>

          <p class="MsoNormal">
            <span lang="EN-US"
              ><span style="mso-spacerun:yes"> </span>if (beat &gt;= 4)
              Beat(pos);<o:p></o:p
            ></span>
          </p>

          <p class="MsoNormal">
            <span lang="EN-US"><o:p>&nbsp;</o:p></span>
          </p>

          <p class="MsoNormal">
            <span lang="EN-US"
              ><span style="mso-spacerun:yes"> </span>drawMask(pos);<o:p></o:p
            ></span>
          </p>

          <p class="MsoNormal">
            <span lang="EN-US"><o:p>&nbsp;</o:p></span>
          </p>

          <p class="MsoNormal">
            <span lang="EN-US"
              ><span style="mso-spacerun:yes"> </span>Shape(pos);<o:p></o:p
            ></span>
          </p>

          <p class="MsoNormal">
            <span lang="EN-US"
              ><span style="mso-spacerun:yes"> </span>vid.mask(shape);<o:p></o:p
            ></span>
          </p>

          <p class="MsoNormal">
            <span lang="EN-US"><o:p>&nbsp;</o:p></span>
          </p>

          <p class="MsoNormal">
            <span lang="EN-US"
              ><span style="mso-spacerun:yes"> </span>if (beat &lt; 4) {<o:p
              ></o:p
            ></span>
          </p>

          <p class="MsoNormal">
            <span lang="EN-US"
              ><span style="mso-spacerun:yes"> </span>push();<o:p></o:p
            ></span>
          </p>

          <p class="MsoNormal">
            <span lang="EN-US"
              ><span style="mso-spacerun:yes"> </span>let ts2 = ((pos[13][0] +
              30) - (pos[1][0] - 30)) * 1.1;<o:p></o:p
            ></span>
          </p>

          <p class="MsoNormal">
            <span lang="EN-US"
              ><span style="mso-spacerun:yes"> </span>textSize(ts2);<o:p></o:p
            ></span>
          </p>

          <p class="MsoNormal">
            <span lang="EN-US"
              ><span style="mso-spacerun:yes"> </span>translate((pos[7][0] +
              pos[0][0]) / 2, pos[41][1]);<o:p></o:p
            ></span>
          </p>

          <p class="MsoNormal">
            <span lang="EN-US"
              ><span style="mso-spacerun:yes"> </span>rotate(-20);<o:p></o:p
            ></span>
          </p>

          <p class="MsoNormal">
            <span lang="EN-US"
              ><span style="mso-spacerun:yes"> </span>text('</span
            ><span
              lang="EN-US"
              style='font-family:"Apple Color Emoji";
mso-bidi-font-family:"Apple Color Emoji"'
              >&#129506;</span
            ><span lang="EN-US">', 0, 0);<o:p></o:p></span>
          </p>

          <p class="MsoNormal">
            <span lang="EN-US"
              ><span style="mso-spacerun:yes"> </span>pop();<o:p></o:p
            ></span>
          </p>

          <p class="MsoNormal">
            <span lang="EN-US"
              ><span style="mso-spacerun:yes"> </span>} else {<o:p></o:p
            ></span>
          </p>

          <p class="MsoNormal">
            <span lang="EN-US"
              ><span style="mso-spacerun:yes"> </span>if (random([0, 1, 1, 1, 1,
              1, 1, 1, 1])) {<o:p></o:p
            ></span>
          </p>

          <p class="MsoNormal">
            <span lang="EN-US"
              ><span style="mso-spacerun:yes"> </span>push();<o:p></o:p
            ></span>
          </p>

          <p class="MsoNormal">
            <span lang="EN-US"
              ><span style="mso-spacerun:yes"> </span>let ts2 = ((pos[13][0] +
              30) - (pos[1][0] - 30)) * 0.7;<o:p></o:p
            ></span>
          </p>

          <p class="MsoNormal">
            <span lang="EN-US"
              ><span style="mso-spacerun:yes"> </span>textSize(ts2);<o:p></o:p
            ></span>
          </p>

          <p class="MsoNormal">
            <span lang="EN-US"
              ><span style="mso-spacerun:yes"> </span>translate((pos[7][0] +
              pos[0][0]) / 2 - ts2 * 0.2, pos[41][1] - ts2 * 0.2);<o:p></o:p
            ></span>
          </p>

          <p class="MsoNormal">
            <span lang="EN-US"
              ><span style="mso-spacerun:yes"> </span>rotate(10);<o:p></o:p
            ></span>
          </p>

          <p class="MsoNormal">
            <span lang="EN-US"
              ><span style="mso-spacerun:yes"> </span>text('</span
            ><span
              lang="EN-US"
              style='font-family:"Apple Color Emoji";
mso-bidi-font-family:"Apple Color Emoji"'
              >&#128165;</span
            ><span lang="EN-US">', 0, 0);<o:p></o:p></span>
          </p>

          <p class="MsoNormal">
            <span lang="EN-US"
              ><span style="mso-spacerun:yes"> </span>pop();<o:p></o:p
            ></span>
          </p>

          <p class="MsoNormal">
            <span lang="EN-US"
              ><span style="mso-spacerun:yes"> </span
              ><span style="mso-spacerun:yes"> </span>}<o:p></o:p
            ></span>
          </p>

          <p class="MsoNormal">
            <span lang="EN-US"
              ><span style="mso-spacerun:yes"> </span>}<o:p></o:p
            ></span>
          </p>

          <p class="MsoNormal">
            <span lang="EN-US"
              ><span style="mso-spacerun:yes"> </span>}<o:p></o:p
            ></span>
          </p>

          <p class="MsoNormal"><span lang="EN-US">}</span></p>
        </div>
      </blockquote>
    </div>
  </body>
</html>
